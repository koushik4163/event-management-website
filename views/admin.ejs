<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/admin.css">
    <title>Admin Dashboard</title>
</head>
<body>
    <%- include('partials/navbar') %>
    
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>Admin Panel</h2>
            </div>
            <ul class="sidebar-menu">
                <li class="active"><a href="#overview">Overview</a></li>
                <li><a href="#event-creators">Event Creators</a></li>
                <li><a href="#users">Users</a></li>
                <li><a href="#events">Events</a></li>
                <li><a href="#settings">Settings</a></li>
                <li><a href="/logout">Logout</a></li>
            </ul>
        </aside>
        <main class="main-content">
            <header class="header">
                <h1>Admin Dashboard</h1>
                <div class="header-actions">
                    <div class="search-container">
                        <div class="search-box">
                            <input class="input" type="text" placeholder="Search...">
                            <div class="input-border"></div>
                        </div>
                        <button class="notification-btn">Notifications</button>
                    </div>
                    <button id="toggle-sidebar">Toggle Sidebar</button>
                </div>
            </header>

            <section id="overview" class="dashboard-section active">
                <h2 class="section-title">Site Overview</h2>
                <div class="stats">
                    <div class="stat">
                        <h3>Total Events</h3>
                        <p>147</p>
                    </div>
                    <div class="stat">
                        <h3>Active Users</h3>
                        <p>2,318</p>
                    </div>
                    <div class="stat">
                        <h3>Event Creators</h3>
                        <p>36</p>
                    </div>
                    <div class="stat">
                        <h3>Total Revenue</h3>
                        <p>$25,471</p>
                    </div>
                </div>
                <div class="charts">
                    <div class="chart" id="total-users-chart">
                        <h3>User Growth</h3>
                        <img src="/images/line_chart.png" alt="User Growth Chart">
                    </div>
                    <div class="chart" id="events-chart">
                        <h3>Events by Category</h3>
                        <img src="/images/bar_chart.png" alt="Events by Category Chart">
                    </div>
                    <div class="chart" id="revenue-chart">
                        <h3>Revenue Distribution</h3>
                        <img src="/images/pie_chart.png" alt="Revenue Distribution Chart">
                    </div>
                    <div class="chart" id="traffic-chart">
                        <h3>Site Traffic</h3>
                        <img src="/images/traffic_chart.png" alt="Site Traffic Chart">
                    </div>
                </div>
            </section>

            <section id="event-creators" class="dashboard-section">
                <h2 class="section-title">Event Creators Management</h2>
                <div class="action-bar">
                    <button class="action-btn primary" id="add-creator-btn">Add New Event Creator</button>
                    <div class="search-container">
                        <input type="text" placeholder="Search creators...">
                        <button class="search-btn">Search</button>
                    </div>
                </div>

                <div class="creator-form" id="add-creator-form" style="display:none;">
                    <h3>Add New Event Creator</h3>
                    <form action="/admin/add-creator" method="POST">
                        <div class="form-group">
                            <label for="creator-name">Full Name</label>
                            <input type="text" id="creator-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="creator-email">Email</label>
                            <input type="email" id="creator-email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="creator-password">Temporary Password</label>
                            <input type="password" id="creator-password" name="password" required>
                        </div>
                        <div class="form-group">
                            <label for="creator-org">Organization (Optional)</label>
                            <input type="text" id="creator-org" name="organization">
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="submit-btn">Add Creator</button>
                            <button type="button" class="cancel-btn" id="cancel-add-creator">Cancel</button>
                        </div>
                    </form>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Organization</th>
                                <th>Events Created</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Sample data - would be populated from backend -->
                            <tr>
                                <td>Jane Smith</td>
                                <td>jane.smith@example.com</td>
                                <td>EventPro Inc.</td>
                                <td>12</td>
                                <td><span class="status active">Active</span></td>
                                <td>
                                    <button class="action-icon edit">Edit</button>
                                    <button class="action-icon delete">Remove</button>
                                </td>
                            </tr>
                            <tr>
                                <td>John Doe</td>
                                <td>john.doe@example.com</td>
                                <td>Eventify</td>
                                <td>8</td>
                                <td><span class="status active">Active</span></td>
                                <td>
                                    <button class="action-icon edit">Edit</button>
                                    <button class="action-icon delete">Remove</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Maria Garcia</td>
                                <td>maria.garcia@example.com</td>
                                <td>EventMaster</td>
                                <td>15</td>
                                <td><span class="status inactive">Inactive</span></td>
                                <td>
                                    <button class="action-icon edit">Edit</button>
                                    <button class="action-icon delete">Remove</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="users" class="dashboard-section">
                <h2 class="section-title">User Management</h2>
                <div class="search-container">
                    <input type="text" placeholder="Search users...">
                    <button class="search-btn">Search</button>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Joined Date</th>
                                <th>Events Booked</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Sample data - would be populated from backend -->
                            <tr>
                                <td>Alex Johnson</td>
                                <td>alex@example.com</td>
                                <td>Apr 15, 2023</td>
                                <td>5</td>
                                <td><span class="status active">Active</span></td>
                                <td>
                                    <button class="action-icon view">View</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Sarah Williams</td>
                                <td>sarah@example.com</td>
                                <td>May 22, 2023</td>
                                <td>3</td>
                                <td><span class="status active">Active</span></td>
                                <td>
                                    <button class="action-icon view">View</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>
    <%- include('partials/footer') %>

    <script src="/js/sidebar.js"></script>
    <script>
        // JavaScript for the admin dashboard functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Tab navigation
            const menuItems = document.querySelectorAll('.sidebar-menu li a');
            const sections = document.querySelectorAll('.dashboard-section');
            
            menuItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = this.getAttribute('href').substring(1);
                    
                    // Hide all sections and deactivate all menu items
                    sections.forEach(section => section.classList.remove('active'));
                    menuItems.forEach(item => item.parentElement.classList.remove('active'));
                    
                    // Show target section and activate current menu item
                    document.getElementById(target).classList.add('active');
                    this.parentElement.classList.add('active');
                });
            });

            // Add creator form toggle
            const addCreatorBtn = document.getElementById('add-creator-btn');
            const addCreatorForm = document.getElementById('add-creator-form');
            const cancelAddCreator = document.getElementById('cancel-add-creator');

            addCreatorBtn.addEventListener('click', function() {
                addCreatorForm.style.display = 'block';
            });

            cancelAddCreator.addEventListener('click', function() {
                addCreatorForm.style.display = 'none';
            });
        });
    </script>
</body>
</html>